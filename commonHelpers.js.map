{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet galleryLightbox = new SimpleLightbox('.image-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst form = document.querySelector('.form');\nconst searchInput = document.querySelector('.input-name');\nconst loader = document.querySelector('.loader');\n\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', getPhoto);\n\nfunction getPhoto(event) {\n  event.preventDefault();\n\n  const searchQuery = searchInput.value.trim();\n\n  if (searchQuery === '') {\n    iziToast.show({\n      title: 'Error',\n      message: 'Please enter a search query',\n    });\n    return; \n  }\n\n  if (/\\s/.test(searchQuery)) {\n        iziToast.show({\n      title: 'Error',\n      message: 'Search query cannot contain spaces',\n    });\n    searchInput.value = ''; \n    return;\n  }\n\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const API_KEY = '42310325-d8e2b88bd4f4d7db9639050a5';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  loader.classList.add('visible');\n\n  fetch(url)\n    .then(res => res.json())\n    .then(data => {\n      renderPhotos(data.hits);\n      loader.classList.remove('visible');\n    })\n    .catch(error => {\n      console.log('Error fetching data:', error);\n      loader.classList.remove('visible');\n      iziToast.show({\n        title: 'Error',\n        message: 'Failed to fetch data. Please check your internet connection.',\n      });\n    });\n\n  searchInput.value = '';\n}\n\nfunction makeMarkup(\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads\n) {\n  return `<li class=\"photo\">\n  <div class=\"photo-card\">\n    <a class=\"image-link\" data-lightbox=\"image\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" data-source=\"${largeImageURL}\"  src=\"${webformatURL}\" alt=\"${tags}\"></img>\n    </a>\n    </div>\n      <div class=\"description\">\n        <p class=\"description-item\"> Likes ${likes}</p>\n        <p class=\"description-item\"> Views ${views}</p>\n        <p class=\"description-item\"> Comments ${comments}</p>\n        <p class=\"description-item\"> Downloads ${downloads}</p>\n    \n    </div>\n  </li>`;\n}\n\nfunction renderPhotos(photos) {\n  gallery.innerHTML = '';\n\n  if (photos.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      backgroundColor: 'red',\n      messageColor: 'white',\n      messageSize: '25',\n    });\n  }\n  photos.forEach(photo => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = photo;\n    const photoElement = makeMarkup(\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads\n    );\n    gallery.insertAdjacentHTML('beforeend', photoElement);\n  });\n\n  galleryLightbox.refresh();\n}\n"],"names":["galleryLightbox","SimpleLightbox","form","searchInput","loader","gallery","getPhoto","event","searchQuery","iziToast","BASE_URL","END_POINT","API_KEY","params","url","res","data","renderPhotos","error","makeMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","photos","photo","photoElement"],"mappings":"6vBAKA,IAAIA,EAAkB,IAAIC,EAAe,cAAe,CACtD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,SAAS,cAAc,UAAU,EAEjDH,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAcL,EAAY,MAAM,KAAI,EAE1C,GAAIK,IAAgB,GAAI,CACtBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAED,GAAI,KAAK,KAAKD,CAAW,EAAG,CACtBC,EAAS,KAAK,CAChB,MAAO,QACP,QAAS,oCACf,CAAK,EACDN,EAAY,MAAQ,GACpB,MACD,CAED,MAAMO,EAAW,sBACXC,EAAY,QACZC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKM,EAAM,GAAGJ,CAAQ,GAAGC,CAAS,IAAIE,CAAM,GAE7CT,EAAO,UAAU,IAAI,SAAS,EAE9B,MAAMU,CAAG,EACN,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,CACZC,EAAaD,EAAK,IAAI,EACtBZ,EAAO,UAAU,OAAO,SAAS,CACvC,CAAK,EACA,MAAMc,GAAS,CACd,QAAQ,IAAI,uBAAwBA,CAAK,EACzCd,EAAO,UAAU,OAAO,SAAS,EACjCK,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,8DACjB,CAAO,CACP,CAAK,EAEHN,EAAY,MAAQ,EACtB,CAEA,SAASgB,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,CACA,MAAO;AAAA;AAAA,wDAE+CL,CAAa;AAAA,8CACvBA,CAAa,WAAWD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6CAInDC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA;AAAA,QAI1D,CAEA,SAAST,EAAaU,EAAQ,CAC5BtB,EAAQ,UAAY,GAEhBsB,EAAO,SAAW,GACpBlB,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,MACjB,aAAc,QACd,YAAa,IACnB,CAAK,EAEHkB,EAAO,QAAQC,GAAS,CACtB,KAAM,CACJ,aAAAR,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGE,EACEC,EAAeV,EACnBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACN,EACIrB,EAAQ,mBAAmB,YAAawB,CAAY,CACxD,CAAG,EAED7B,EAAgB,QAAO,CACzB"}